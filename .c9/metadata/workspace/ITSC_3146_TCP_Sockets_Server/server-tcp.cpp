{"filter":false,"title":"server-tcp.cpp","tooltip":"/ITSC_3146_TCP_Sockets_Server/server-tcp.cpp","undoManager":{"mark":18,"position":18,"stack":[[{"start":{"row":0,"column":31},"end":{"row":1,"column":0},"action":"insert","lines":["",""],"id":2}],[{"start":{"row":1,"column":0},"end":{"row":1,"column":22},"action":"insert","lines":["#include <arpa/inet.h>"],"id":3}],[{"start":{"row":1,"column":0},"end":{"row":2,"column":0},"action":"remove","lines":["#include <arpa/inet.h>",""],"id":4},{"start":{"row":1,"column":0},"end":{"row":10,"column":22},"action":"insert","lines":["#include <stdio.h>","#include <stdlib.h>","#include <string.h>","#include <iostream>","","#include <unistd.h>","#include <sys/socket.h>","#include <arpa/inet.h>","#include <netdb.h>","#include <sys/types.h>"]}],[{"start":{"row":10,"column":22},"end":{"row":11,"column":0},"action":"insert","lines":["",""],"id":5}],[{"start":{"row":11,"column":0},"end":{"row":12,"column":0},"action":"insert","lines":["",""],"id":6}],[{"start":{"row":12,"column":0},"end":{"row":14,"column":22},"action":"insert","lines":["using namespace std;","","#define MAXBUF 1000000"],"id":7}],[{"start":{"row":29,"column":34},"end":{"row":30,"column":0},"action":"insert","lines":["",""],"id":9},{"start":{"row":30,"column":0},"end":{"row":30,"column":3},"action":"insert","lines":["   "]}],[{"start":{"row":30,"column":3},"end":{"row":40,"column":6},"action":"insert","lines":["struct sockaddr_in sockme, newsockme;","int s, childs;","char *hostnum;","int type;","int portnum;","","char bufout[1000];","char bufin[MAXBUF+1];","int result;","char c, *cp;","int n;"],"id":10}],[{"start":{"row":47,"column":3},"end":{"row":49,"column":33},"action":"insert","lines":["sockme.sin_family = AF_INET;","sockme.sin_addr.s_addr = INADDR_ANY;","sockme.sin_port = htons(portnum);"],"id":11}],[{"start":{"row":47,"column":1},"end":{"row":49,"column":33},"action":"remove","lines":["  sockme.sin_family = AF_INET;","sockme.sin_addr.s_addr = INADDR_ANY;","sockme.sin_port = htons(portnum);"],"id":12}],[{"start":{"row":47,"column":1},"end":{"row":53,"column":23},"action":"insert","lines":["s = socket(PF_INET, SOCK_STREAM, 0);","","result = bind(s, (struct sockaddr *) &sockme, sizeof(sockme));","","","// Queue up to 20 incoming requests","result = listen(s, 20);"],"id":13}],[{"start":{"row":64,"column":6},"end":{"row":65,"column":58},"action":"insert","lines":["socklen_t alen = sizeof(newsockme);","childs = accept(s, (struct sockaddr *) &newsockme, &alen);"],"id":14}],[{"start":{"row":81,"column":37},"end":{"row":82,"column":0},"action":"insert","lines":["",""],"id":15},{"start":{"row":82,"column":0},"end":{"row":82,"column":6},"action":"insert","lines":["      "]}],[{"start":{"row":82,"column":6},"end":{"row":83,"column":23},"action":"insert","lines":["result = send (childs, bufin, strlen(bufin), 0);","result = close(childs);"],"id":16}],[{"start":{"row":30,"column":0},"end":{"row":40,"column":6},"action":"remove","lines":["   struct sockaddr_in sockme, newsockme;","int s, childs;","char *hostnum;","int type;","int portnum;","","char bufout[1000];","char bufin[MAXBUF+1];","int result;","char c, *cp;","int n;"],"id":17}],[{"start":{"row":14,"column":22},"end":{"row":15,"column":0},"action":"insert","lines":["",""],"id":18}],[{"start":{"row":15,"column":0},"end":{"row":25,"column":6},"action":"insert","lines":["   struct sockaddr_in sockme, newsockme;","int s, childs;","char *hostnum;","int type;","int portnum;","","char bufout[1000];","char bufin[MAXBUF+1];","int result;","char c, *cp;","int n;"],"id":19}],[{"start":{"row":15,"column":0},"end":{"row":15,"column":3},"action":"remove","lines":["   "],"id":20}],[{"start":{"row":42,"column":0},"end":{"row":45,"column":33},"action":"insert","lines":["// Populate the data structure","sockme.sin_family = AF_INET;","sockme.sin_addr.s_addr = INADDR_ANY;","sockme.sin_port = htons(portnum);"],"id":21}]]},"ace":{"folds":[],"scrolltop":605,"scrollleft":0,"selection":{"start":{"row":45,"column":33},"end":{"row":45,"column":33},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":42,"state":"start","mode":"ace/mode/c_cpp"}},"timestamp":1498074010000,"hash":"594d874fdf98ee64d590d72a8ac8f1e7a1e42397"}